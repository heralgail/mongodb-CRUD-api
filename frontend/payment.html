<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>⚡ Nexus Stream - Secure Payment Protocol</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* --- Root and Global Styles - NEON TECH THEME --- */
        :root {
            /* High-Contrast Neon Palette */
            --primary-color: #00ffff; /* Neon Cyan/Blue (Action/Highlight) */
            --secondary-color: #ff00ff; /* Neon Magenta Accent (Security/Danger) */
            --text-color: #f0f0f0; /* Light text on dark BG */
            --light-text: #B0B0B0;
            --dark-bg: #0d0d0d; /* Deep Black Background */
            --card-bg: #1a1a1a; /* Card/Modal Background */
            --button-hover: #00e5e5;
            --danger-hover: #ff33ff;
            --border-color: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- Payment Card/Terminal Style --- */
        .payment-card {
            max-width: 500px; /* Slightly narrower for focus */
            width: 90%;
            background-color: var(--card-bg);
            border: 2px solid var(--primary-color);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5); /* Cyan glow */
            border-radius: 12px;
            color: var(--text-color);
        }
        
        /* --- Icons and Header --- */
        .icon-large {
            font-size: 3.5em;
            color: var(--secondary-color); /* Magenta for Security Lock */
            margin-bottom: 20px;
            text-shadow: 0 0 8px var(--secondary-color);
        }
        h2 {
            color: var(--primary-color) !important;
            font-weight: 700;
            text-shadow: 0 0 5px var(--primary-color);
        }
        .lead {
            color: var(--light-text);
        }

        /* --- Input Fields --- */
        .form-control {
            background-color: #2b2b2b;
            border: 1px solid #444;
            color: var(--text-color);
            padding: 10px;
        }
        .form-control:focus {
            background-color: #2b2b2b;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(0, 255, 255, 0.25);
            color: var(--text-color);
        }

        /* --- Custom Alert/Info Box --- */
        .alert-info-custom {
            background-color: rgba(0, 255, 255, 0.1); /* Light cyan tint */
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-size: 0.9em;
        }

        /* --- Confirm Button --- */
        .btn-primary-custom {
            background-color: var(--secondary-color); /* Magenta for final action */
            border-color: var(--secondary-color);
            color: var(--dark-bg);
            font-weight: 700;
            transition: background-color 0.2s, box-shadow 0.2s;
            font-size: 1.1em;
        }
        .btn-primary-custom:hover {
            background-color: var(--danger-hover);
            border-color: var(--danger-hover);
            color: var(--dark-bg);
            box-shadow: 0 0 10px var(--secondary-color);
        }

        /* --- Back Link --- */
        .back-link {
            color: var(--light-text) !important;
            text-decoration: none;
            transition: color 0.2s;
        }
        .back-link:hover {
            color: var(--primary-color) !important;
        }

    </style>
</head>
<body>
    <div class="payment-card card p-5 shadow">
        <div class="text-center">
            <i class="fas fa-fingerprint icon-large"></i>
            <h2 class="mb-4">Secure Transaction Terminal</h2>
            <p class="lead">
                Protocol Active: Authenticate your transfer details to finalize the purchase of cybernetic gear.
            </p>
            
            <div class="alert-info-custom">
                <i class="fas fa-shield-alt me-2"></i> **Warning:** Encrypted connection established. All data is purged post-transaction.
            </div>
            
            <form class="mt-4" id="payment-form">
                <div class="mb-3 text-start">
                    <label class="form-label" style="color: var(--primary-color);">Transaction Total:</label>
                    <input type="text" class="form-control" id="transaction-total" value="₱0.00" readonly>
                </div>

                <div class="mb-3">
                    <input type="text" class="form-control" placeholder="Credit Chip ID (Card Number)" required pattern="[0-9]{16}">
                </div>
                <div class="row">
                    <div class="col-6 mb-3">
                        <input type="text" class="form-control" placeholder="Valid Thru (MM/YY)" required pattern="(0[1-9]|1[0-2])\/?([0-9]{2})">
                    </div>
                    <div class="col-6 mb-3">
                        <input type="text" class="form-control" placeholder="Security Code (CVC)" required pattern="[0-9]{3,4}">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary-custom w-100 py-3 mt-4">
                    <i class="fas fa-check-circle me-2"></i> Execute Final Transfer
                </button>
            </form>

            <a href="shop.html" class="d-block mt-3 back-link">
                <i class="fas fa-chevron-left"></i> Return to Inventory Stream
            </a>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // --- Payment Logic (Front-end Placeholder) ---
        const cartKey = 'nexusStreamCart';
        const totalDisplay = document.getElementById('transaction-total');
        const paymentForm = document.getElementById('payment-form');

        function calculateAndDisplayTotal() {
            const cart = JSON.parse(localStorage.getItem(cartKey)) || [];
            let total = 0;
            
            cart.forEach(item => {
                total += item.price * item.quantity;
            });
            
            const formatCurrency = (amount) => `₱${amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            totalDisplay.value = formatCurrency(total);
            
            if (cart.length === 0) {
                alert("Warning: Transaction buffer is empty. Returning to inventory.");
                window.location.href = 'shop.html';
            }
        }

        // Handle Form Submission
        paymentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // In a real application, this is where you'd send data to Stripe/PayPal or your backend.
            alert(`Transfer Protocol Complete for ${totalDisplay.value}. Thank you for your Nexus Stream purchase!`);
            
            // Clear the cart after successful (simulated) payment
            localStorage.removeItem(cartKey);
            
            // Redirect user to a thank you page or home after a small delay
            setTimeout(() => {
                window.location.href = 'index.html'; 
            }, 1000); 
        });

        // Initial load
        window.onload = calculateAndDisplayTotal;
    </script>
</body>
</html>